services:
  app.tenant.loader.access:
    class: AppBundle\Tenant\Loader\AccessLoader
    arguments:
      - '@ds_security.service.access'
      - '@ds_security.service.permission'
    tags:
      - { name: ds_tenant.loader }

  app.tenant.loader.config:
    class: AppBundle\Tenant\Loader\ConfigLoader
    arguments:
      - '@ds_config.service.config'
    tags:
      - { name: ds_tenant.loader }

  app.tenant.unloader.category:
    class: AppBundle\Tenant\Unloader\CategoryUnloader
    arguments:
      - '@doctrine.orm.entity_manager'
    tags:
      - { name: ds_tenant.unloader, priority: -1 }

  app.tenant.unloader.scenario:
    class: AppBundle\Tenant\Unloader\ScenarioUnloader
    arguments:
      - '@doctrine.orm.entity_manager'
    tags:
      - { name: ds_tenant.unloader, priority: -1 }

  app.tenant.unloader.service:
    class: AppBundle\Tenant\Unloader\ServiceUnloader
    arguments:
      - '@doctrine.orm.entity_manager'
    tags:
      - { name: ds_tenant.unloader }

  app.tenant.unloader.submission:
    class: AppBundle\Tenant\Unloader\SubmissionUnloader
    arguments:
      - '@doctrine.orm.entity_manager'
    tags:
      - { name: ds_tenant.unloader, priority: -1 }
